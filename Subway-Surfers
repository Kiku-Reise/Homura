# Created by: Alexander Vereeken <Alexander88207@protonmail.com>
# Maintainer: Alexander Vereeken <Alexander88207@protonmail.com>

if [[ $TODO == *"Installation"* ]]; then

# Download
download https://homura.magzu.net/games/Subway_Surfers.tar.gz

# Prefix
prefix-message
echo -e "\e[40;38;5;32mSet prefix to Windows 10\e[30;48;5;82m\e[0m"
WINEPREFIX=$GDIR/$INST winetricks win10

# Installer
installer-message
mkdir -p $GDIR/$INST
cd $GDIR/$INST
tar -xf $DDIR/Subway_Surfers.tar.gz
rm $DDIR/Subway_Surfers.tar.gz
WINEPREFIX="$GDIR/$INST" winetricks sandbox
fi

if [[ $TODO == *"Launcher"* ]]; then
WINEPREFIX=$GDIR/$LNCH wine "$GDIR/$LNCH/Subway Surfers/Subway_Surfers.exe"
fi

if [[ $TODO == *"Uninstallation"* ]]; then
rm -d -r "$GDIR/$UNST"
rm /usr/home/$USER/.local/share/applications/$CS.desktop
fi

if [[ $OTR == *"Create a shortcut"* ]]; then
cd $DDIR
fetch https://upload.wikimedia.org/wikipedia/en/thumb/b/b9/Subway_Surfers_app_logo.png/250px-Subway_Surfers_app_logo.png
if [ -f "/usr/home/$USER/.local/share/applications/$CS.desktop" ]; then
rm /usr/home/$USER/.local/share/applications/$CS.desktop
fi
echo "[Desktop Entry]
Name=$CS
Exec=$NAME Launch $CS
Type=Application
StartupNotify=true
Icon=$DDIR/250px-Subway_Surfers_app_logo.png" >> /usr/home/$USER/.local/share/applications/$CS.desktop
fi
